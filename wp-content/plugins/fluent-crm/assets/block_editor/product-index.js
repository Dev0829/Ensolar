!function(){"use strict";var e=window.wp.components;window.React;var t="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzM2IiBoZWlnaHQ9IjM2OSIgdmlld0JveD0iMCAwIDMzNiAzNjkiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjI0IiB5PSIyNCIgd2lkdGg9IjI4OCIgaGVpZ2h0PSIyMTMiIGZpbGw9IiNFREVFRjQiLz4KPHJlY3QgeD0iMjQiIHk9IjI2MyIgd2lkdGg9IjIwMyIgaGVpZ2h0PSIxNiIgcng9IjgiIGZpbGw9IiNFREVFRjQiLz4KPHJlY3QgeD0iMjQiIHk9IjI5NCIgd2lkdGg9IjUxIiBoZWlnaHQ9IjEyIiByeD0iNiIgZmlsbD0iI0VERUVGNCIvPgo8cmVjdCB4PSIyNCIgeT0iMzI5IiB3aWR0aD0iNjIiIGhlaWdodD0iMTQiIHJ4PSI3IiBmaWxsPSIjRURFRUY0Ii8+CjxyZWN0IHg9IjEiIHk9IjEiIHdpZHRoPSIzMzQiIGhlaWdodD0iMzY3IiByeD0iOSIgc3Ryb2tlPSIjRURFRUY0IiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+Cg==",a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzExIiBoZWlnaHQ9IjUwOCIgdmlld0JveD0iMCAwIDcxMSA1MDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjMwIiB5PSIzMCIgd2lkdGg9IjI5OCIgaGVpZ2h0PSIyMTIiIGZpbGw9IiNFREVFRjQiLz4KPHJlY3QgeD0iMzY1IiB5PSI0MiIgd2lkdGg9IjIxNiIgaGVpZ2h0PSIxNiIgcng9IjgiIGZpbGw9IiNFREVFRjQiLz4KPHJlY3QgeD0iMzY1IiB5PSI3OCIgd2lkdGg9IjI5NiIgaGVpZ2h0PSIxMiIgcng9IjYiIGZpbGw9IiNFREVFRjQiLz4KPHJlY3QgeD0iMzY1IiB5PSIxMDEiIHdpZHRoPSIxNDkiIGhlaWdodD0iMTIiIHJ4PSI2IiBmaWxsPSIjRURFRUY0Ii8+CjxyZWN0IHg9IjM2NSIgeT0iMTMzIiB3aWR0aD0iNjIiIGhlaWdodD0iMTQiIHJ4PSI3IiBmaWxsPSIjRURFRUY0Ii8+CjxyZWN0IHg9IjM2NSIgeT0iMTczIiB3aWR0aD0iMzE2IiBoZWlnaHQ9IjU2IiBmaWxsPSIjRURFRUY0Ii8+CjxyZWN0IHg9IjMwIiB5PSIyNjYiIHdpZHRoPSIyOTgiIGhlaWdodD0iMjEyIiBmaWxsPSIjRURFRUY0Ii8+CjxyZWN0IHg9IjM2NSIgeT0iMjc4IiB3aWR0aD0iMjE2IiBoZWlnaHQ9IjE2IiByeD0iOCIgZmlsbD0iI0VERUVGNCIvPgo8cmVjdCB4PSIzNjUiIHk9IjMxNCIgd2lkdGg9IjI5NiIgaGVpZ2h0PSIxMiIgcng9IjYiIGZpbGw9IiNFREVFRjQiLz4KPHJlY3QgeD0iMzY1IiB5PSIzMzciIHdpZHRoPSIxNDkiIGhlaWdodD0iMTIiIHJ4PSI2IiBmaWxsPSIjRURFRUY0Ii8+CjxyZWN0IHg9IjM2NSIgeT0iMzY5IiB3aWR0aD0iNjIiIGhlaWdodD0iMTQiIHJ4PSI3IiBmaWxsPSIjRURFRUY0Ii8+CjxyZWN0IHg9IjM2NSIgeT0iNDA5IiB3aWR0aD0iMzE2IiBoZWlnaHQ9IjU2IiBmaWxsPSIjRURFRUY0Ii8+CjxyZWN0IHg9IjEiIHk9IjEiIHdpZHRoPSI3MDkiIGhlaWdodD0iNTA2IiByeD0iOSIgc3Ryb2tlPSIjRURFRUY0IiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+Cg==",n="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzM2IiBoZWlnaHQ9IjMzMiIgdmlld0JveD0iMCAwIDMzNiAzMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjI0IiB5PSIyNCIgd2lkdGg9IjI4OCIgaGVpZ2h0PSIyMTMiIHJ4PSIxMCIgZmlsbD0iI0VERUVGNCIvPgo8cmVjdCB4PSI2NiIgeT0iMjYzIiB3aWR0aD0iMjAzIiBoZWlnaHQ9IjE2IiByeD0iOCIgZmlsbD0iI0VERUVGNCIvPgo8cmVjdCB4PSIxNDIiIHk9IjI5NCIgd2lkdGg9IjUxIiBoZWlnaHQ9IjEyIiByeD0iNiIgZmlsbD0iI0VERUVGNCIvPgo8cmVjdCB4PSIxIiB5PSIxIiB3aWR0aD0iMzM0IiBoZWlnaHQ9IjMzMCIgcng9IjkiIHN0cm9rZT0iI0VERUVGNCIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPgo=";function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var r=wp.blockEditor,o=r.InspectorControls,i=r.PanelColorSettings,__=wp.i18n.__,c=wp.components,u=c.PanelBody,I=c.PanelRow,s=c.SelectControl,d=c.ToggleControl,m=c.TextControl,p=c.Dropdown,g=c.Button,y=function(r){var c,y,f=r.attributes,R=f.selectedLayout,b=f.order,h=f.orderBy,j=f.taxonomies,v=f.taxType,w=f.selectedPostsPerPage,C=f.showDescription,P=f.showPrice,E=f.showButton,N=f.buttonText,S=f.titleColor,M=f.priceColor,B=f.buttonColor,x=f.buttonBG,H=f.descriptionColor,D=r.setAttributes,Z=t;"layout-2"===R?Z=a:"layout-3"===R&&(Z=n);var G=[{value:S,onChange:function(e){D({titleColor:e})},label:__("Title Color")}];"layout-2"===R&&!0===C&&G.push({value:H,onChange:function(e){D({descriptionColor:e})},label:__("Description Color")}),!0===P&&G.push({value:M,onChange:function(e){D({priceColor:e})},label:__("Price Color")}),"layout-3"!==R&&!0===E&&G.push({value:B,onChange:function(e){D({buttonColor:e})},label:__("Button Color")}),"layout-2"===R&&!0===E&&G.push({value:x,onChange:function(e){D({buttonBG:e})},label:__("Button Background")});var z,W,T=[{value:"all",label:"All"}];return null!==(c=j.product)&&void 0!==c&&c.terms&&null!==(z=j.product)&&void 0!==z&&z.terms.product_cat&&(null===(W=j.product)||void 0===W||W.terms.product_cat.map((function(e){return T.push(e)}))),React.createElement(o,null,React.createElement(u,{title:"General Settings",initialOpen:!0},React.createElement(I,null,React.createElement("div",{className:"fc-latest-products-settings"},null!==(y=j.product)&&void 0!==y&&y.terms?React.createElement(s,{value:v,options:T,placeholder:__("Select Taxonomy","fluent-crm"),label:__("Select Taxonomy","fluent-crm"),clearable:!0,onChange:function(e){D({taxType:e})}}):null,React.createElement(s,{label:__("Order by","fluent-crm"),options:[{label:__("Newest to Oldest","fluent-crm"),value:"date/desc"},{label:__("Oldest to Newest","fluent-crm"),value:"date/asc"},{label:__("Modified Ascending","fluent-crm"),value:"modified/asc"},{label:__("Modified Descending","fluent-crm"),value:"modified/desc"},{label:__("A → Z","fluent-crm"),value:"title/asc"},{label:__("Z → A","fluent-crm"),value:"title/desc"},{label:__("Menu Order","fluent-crm"),value:"menu_order/asc"},{label:__("Random","fluent-crm"),value:"rand/desc"}],value:"".concat(h,"/").concat(b),onChange:function(e){var t,a,n=(t=e.split("/"),a=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,l,r=[],_n=!0,o=!1;try{for(a=a.call(e);!(_n=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);_n=!0);}catch(e){o=!0,l=e}finally{try{_n||null==a.return||a.return()}finally{if(o)throw l}}return r}}(t,a)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],o=n[1];o!==b&&D({order:o}),r!==h&&D({orderBy:r})}}),React.createElement(m,{type:"number",className:"fce-dimension-box",value:w,label:__("Show Products"),help:"e.g how many products you want to show",onChange:function(e){return D({selectedPostsPerPage:e})}}),React.createElement("div",{className:"show-setting-control-box select-layout"},React.createElement("p",null,"Select Layout"),React.createElement(p,{className:"show-setting-dropdown",contentClassName:"my-popover-content-classname",position:"bottom right",renderToggle:function(e){var t=e.isOpen,a=e.onToggle;return React.createElement(React.Fragment,null,React.createElement("img",{onClick:a,"aria-expanded":t,src:Z,alt:""}),React.createElement(g,{variant:"primary",onClick:a,"aria-expanded":t},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false"},React.createElement("path",{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}))))},renderContent:function(l){var r=l.isOpen,o=l.onToggle;return React.createElement("div",{className:"dropdown-render-content dropdown-render-selected-layout"},React.createElement("p",null,"Select Layout"),React.createElement(e.__experimentalRadioGroup,{label:"Layout",value:R,defaultChecked:R,onChange:function(e){return D({selectedLayout:e})}},React.createElement(e.__experimentalRadio,{value:"default",onClick:o,"aria-expanded":r},React.createElement("img",{src:t,alt:"Default"})),React.createElement(e.__experimentalRadio,{value:"layout-2",onClick:o,"aria-expanded":r},React.createElement("img",{src:a,alt:"Layout 2"})),React.createElement(e.__experimentalRadio,{value:"layout-3",onClick:o,"aria-expanded":r},React.createElement("img",{src:n,alt:"Layout 3"}))))}})),"layout-2"===R?React.createElement(d,{label:__("Show Description"),checked:C,onChange:function(){return D({showDescription:!C})}}):null,React.createElement(d,{label:__("Show Price"),checked:P,onChange:function(){return D({showPrice:!P})}}),"layout-3"!==R?React.createElement(React.Fragment,null,React.createElement(d,{label:__("Show Button"),checked:E,onChange:function(){return D({showButton:!E})}}),!0===E?React.createElement(m,{type:"text",value:N,label:__("Button Text"),onChange:function(e){return D({buttonText:e})}}):null):null))),React.createElement("div",{className:"fc-latest-products-content-color-settings"},React.createElement(i,{title:__("Customization"),colorSettings:G})))};function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,l,r=[],_n=!0,o=!1;try{for(a=a.call(e);!(_n=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);_n=!0);}catch(e){o=!0,l=e}finally{try{_n||null==a.return||a.return()}finally{if(o)throw l}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}window.wp.i18n;var v=wp.components.Spinner,w=wp.element,C=w.useState,P=w.useEffect,E=wp.i18n,N=(E.__,E._n,function(e){var t=e.attributes,a=t.selectedLayout,n=t.order,l=t.orderBy,r=(t.taxonomies,t.taxType),o=t.selectedPostsPerPage,i=t.showDescription,c=t.showPrice,u=t.showButton,I=t.buttonText,s=t.titleColor,d=t.priceColor,m=t.buttonColor,p=t.buttonBG,g=t.descriptionColor,y=e.setAttributes,f=h(C([]),2),b=f[0],j=f[1],w=h(C(!1),2),E=w[0],N=w[1],S=wp.apiFetch,M=wp.url.addQueryArgs,B=h(C(!1),2),x=(B[0],B[1]);P((function(){H()}),[o,n,l,r]);var H=function(e){N(!0),S({path:M("fluent-crm/v2/campaigns-pro/products",R({per_page:o,order:n,orderby:l,taxType:r},e))}).then((function(e){j(e.products),y({taxonomies:e.taxonomies})})).catch((function(e){x(!0)})).finally((function(){N(!1)}))},D={color:s},Z={color:g},G={color:d},z="";return"layout-3"!==a&&!0===u&&(z={color:m}),"layout-2"===a&&(z={color:m,background:p}),[React.createElement("div",null,E?React.createElement("h2",null,React.createElement(v,null)):React.createElement("div",{className:"fc_woo_products template-"+a},b&&b.length?b.map((function(e,t){return React.createElement("div",{className:"fc_woo_product",key:t},React.createElement("div",{className:"fc_woo_product_img"},React.createElement("img",{src:e.image,alt:""})),React.createElement("div",{className:"fc_woo_product_info"},React.createElement("div",null,React.createElement("h3",{className:"title",style:D,dangerouslySetInnerHTML:{__html:e.name}}),"layout-2"===a&&!0===i?React.createElement("p",{className:"description",style:Z,dangerouslySetInnerHTML:{__html:e.short_description}}):null,!0===c?React.createElement("span",{className:"price",style:G,dangerouslySetInnerHTML:{__html:e.price_html?e.price_html:"Free"}}):null),"layout-3"!==a&&!0===u?React.createElement("span",{className:"add-to-cart-btn",style:z},I):null))})):React.createElement("div",{className:"fcw_products_not_found"},React.createElement("h2",null,"No Products found!"))))]}),S=wp.element.Fragment,M=window.wp.blockEditor,B=(wp.i18n.__,wp.element.createElement),x=wp.i18n.__,H=wp.blocks.registerBlockType,D=B("svg",{width:20,height:20},B("path",{d:"M0 0h24v24H0V0z",fill:"none"}),B("path",{fill:"#96588a",d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));H("fluent-crm/products",{title:x("WooCommerce Products"),description:x("WooCommerce Products For your Email"),category:"layout",icon:D,keywords:[x("card"),x("latest product"),x("latest products"),x("products")],supports:{align:["wide","full"],html:!0},attributes:{selectedLayout:{type:"string",default:"default"},selectedPostsPerPage:{type:"string",default:"3"},showDescription:{type:"boolean",default:!0},showPrice:{type:"boolean",default:!0},showButton:{type:"boolean",default:!0},taxonomies:{type:"array",default:[]},taxType:{type:"string",default:"all"},order:{type:"string",default:"desc"},orderBy:{type:"string",default:"date"},buttonText:{type:"string",default:"Buy Now"},titleColor:{type:"string",default:"#2a363d"},descriptionColor:{type:"string",default:""},priceColor:{type:"string",default:"#37454e"},buttonColor:{type:"string",default:""},buttonBG:{type:"string",default:"#2a363d"}},edit:function(e){return React.createElement(S,null,React.createElement("div",{className:"fluent-latest-posts-block"},React.createElement(N,{attributes:e.attributes,setAttributes:e.setAttributes})),React.createElement(y,{attributes:e.attributes,setAttributes:e.setAttributes}))},save:function(e){return React.createElement("div",null,React.createElement(React.Fragment,null,React.createElement(M.InnerBlocks.Content,null)))}})}();